<?xml version="1.0" encoding="UTF-8" ?>
<dataConfig>
  <dataSource type="JdbcDataSource" driver="com.mysql.jdbc.Driver" url="jdbc:mysql://10.45.205.242/ark"
              user="glguser" password="password_1"/>
  <document name="Projects">
    <entity name="Projects"
            query="
              select
              @rownum:=@rownum+1 as 'id',
              cast(GROUP_CONCAT(mp.partyid SEPARATOR ' ') as char) as partyids,
              m.title,
              m.description,
              m.ProductId,
              m.ConsultationId,
			  m.PracticeArea,
              m.CreateDate
              from meetingparticipant mp
              join meeting m on m.productid = mp.productid
              JOIN (SELECT @rownum:=0) r
              where meetingtype = 'consultation'
              and mp.PaidDate is not null
			  group by consultationid">

      <field name="id" column="id" />
      <field name="partyIds" column="partyIds" />
      <field name="title" column="title" />
      <field name="description" column="description" />
      <field name="consultationId" column="consultationId" />
      <field name="practiceArea" column="practiceArea" />
      <field name="createDate" column="createDate" />
    </entity>
  </document>
</dataConfig>