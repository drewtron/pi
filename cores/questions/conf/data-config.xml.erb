<?xml version="1.0" encoding="UTF-8" ?>
<dataConfig>
  <dataSource type="JdbcDataSource" driver="com.mysql.jdbc.Driver" url="jdbc:mysql://<%=ENV['DW_HOST']%>/ark" user="<%=ENV['DW_UID']%>" password="<%=ENV['DW_PWD']%>"/>
  <document name="ProfileQuestion">
    <entity name="ProfileQuestion"
            query="
              SELECT
                @rownum:=@rownum+1 as 'id',
                questionId,
                partyId,
                type,
                questionText,
                subjectTaxonomyPath,
                sectorTaxonomyPath,
                responseText,
                responseDate
              from profilequestionresponse
              JOIN (SELECT @rownum:=0) r
              where Response = 'Yes'
              and IsActive = 1">
      <field name="id" column="id" />
      <field name="QuestionId" column="QuestionId" />
      <field name="PartyId" column="PartyId" />
      <field name="type" column="type" />
      <field name="questionText" column="questionText" />
      <field name="subjectTaxonomyPath" column="subjectTaxonomyPath" />
      <field name="sectorTaxonomyPath" column="sectorTaxonomyPath" />
      <field name="responseText" column="responseText" />
      <field name="responseDate" column="responseDate" />

    </entity>
  </document>
</dataConfig>
